<p id="notice"><%= notice %></p>

<h1>Survey</h1>


  <div class="survey-slider">
    
    <% @questions.each do |question| %>
    <div>
      <div id="question_<%= question.id %>" style="text-align: center">
        <span style="font-size: 25px"><%= question.question %></span>
        <div class="container">
          <% for answer in question.answers %>
            <%= link_to answer.answer, survey_answers_path(:vote_id => @current_vote, :question_id => question.id, :answer_id => answer.id), method: :post, class: "btn btn-info btn-block", remote: true %>
          <% end %>
        </div>  
      </div>
    </div>
    <% end %>
    <div style="text-align: center;">
      <span style="font-size: 30px;">THANK YOU</span>
    </div>
  </div>
<br>

<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h1 class="modal-title" id="myModalLabel">Please Enter Your Information</h1>
      </div>
      <%= form_for(@visitor, remote: true) do |f| %>

        <div class="modal-body container">
            <% if @visitor.errors.any? %>
              <div id="error_explanation">
                <h2><%= pluralize(@visitor.errors.count, "error") %> prohibited this visitor from being saved:</h2>

                <ul>
                <% @visitor.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
                </ul>
              </div>
            <% end %>

            <div class="field">
              <%= select_tag(:age, options_for_select(
                [
                  ['15 or lower', '15 or lower'], ['16 - 20', '16 - 20'], 
                  ['21 - 25', '21 - 25'], ['26 - 30', '26 - 30'], 
                  ['31 - 35', '31 - 35'], ['36 or higher', '36 or higher']   
                ]), :required => true, :prompt => "Select Age Group", class: "form-control input-lg") %>
            </div>
            <div class="field">
              <%= select_tag(:gender, options_for_select(
                [
                  ['Male', "Male"], ['Female', "Female"]
                ]), :required => true, :prompt => "Select Gender", class: "form-control input-lg" ) %>
            </div>
            <div class="field">
              <%= f.text_field :email, :required => true, :pattern => '[^@]+@[^@]+\.[a-zA-Z]{2,6}', :placeholder => "Enter Your Email", class: "form-control input-lg" %>
            </div>
            <div class="field">
              <%= f.number_field :zip, :required => true, :placeholder => "Enter Your Zip", class: "form-control input-lg" %>
            </div>
            <div class="actions">
              
            </div>
          
        </div>
        <div class="modal-footer">
          <%= f.submit 'Submit', :class => "btn btn-danger" %>
        </div>
      <% end %>

    </div>
  </div>
</div>

<script type="text/javascript">
$(document).ready(function(){
  $('.survey-slider').slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: false,
    infinite: false
  });
});
</script>

